local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer
local Mouse = LocalPlayer:GetMouse()

local GAME_ID = 2768379856
local VERSION = "1.0.0"
local DISCORD_INVITE = "https://discord.gg/p9HgnKgBMN"

local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "3008OPUI"
ScreenGui.ResetOnSpawn = false
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
ScreenGui.Parent = game:GetService("CoreGui")

local function makeDraggable(frame, dragPart)
    local dragging = false
    local dragInput
    local dragStart
    local startPos
    
    local function update(input)
        local delta = input.Position - dragStart
        frame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
    end
    
    dragPart.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            dragging = true
            dragStart = input.Position
            startPos = frame.Position
            
            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then
                    dragging = false
                end
            end)
        end
    end)
    
    dragPart.InputChanged:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
            dragInput = input
        end
    end)
    
    UserInputService.InputChanged:Connect(function(input)
        if input == dragInput and dragging then
            update(input)
        end
    end)
end

local function isInCorrectGame()
    return game.PlaceId == GAME_ID
end

local function createWrongGameUI()
    local WarningFrame = Instance.new("Frame")
    WarningFrame.Name = "WarningFrame"
    WarningFrame.Size = UDim2.new(0, 300, 0, 150)
    WarningFrame.Position = UDim2.new(0.5, -150, 0.5, -75)
    WarningFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    WarningFrame.BorderSizePixel = 0
    WarningFrame.Parent = ScreenGui
    
    local UICorner = Instance.new("UICorner")
    UICorner.CornerRadius = UDim.new(0, 10)
    UICorner.Parent = WarningFrame
    
    local TitleLabel = Instance.new("TextLabel")
    TitleLabel.Name = "TitleLabel"
    TitleLabel.Size = UDim2.new(1, 0, 0, 30)
    TitleLabel.Position = UDim2.new(0, 0, 0, 0)
    TitleLabel.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
    TitleLabel.BorderSizePixel = 0
    TitleLabel.Text = "Wrong Game"
    TitleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    TitleLabel.Font = Enum.Font.SourceSansBold
    TitleLabel.TextSize = 18
    TitleLabel.Parent = WarningFrame
    
    local TitleCorner = Instance.new("UICorner")
    TitleCorner.CornerRadius = UDim.new(0, 10)
    TitleCorner.Parent = TitleLabel
    
    local CornerFix = Instance.new("Frame")
    CornerFix.Name = "CornerFix"
    CornerFix.Size = UDim2.new(1, 0, 0.5, 0)
    CornerFix.Position = UDim2.new(0, 0, 0.5, 0)
    CornerFix.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
    CornerFix.BorderSizePixel = 0
    CornerFix.Parent = TitleLabel
    
    local MessageLabel = Instance.new("TextLabel")
    MessageLabel.Name = "MessageLabel"
    MessageLabel.Size = UDim2.new(1, -20, 0, 60)
    MessageLabel.Position = UDim2.new(0, 10, 0, 40)
    MessageLabel.BackgroundTransparency = 1
    MessageLabel.Text = "Would you like to join 3008 for this script to work?"
    MessageLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    MessageLabel.Font = Enum.Font.SourceSans
    MessageLabel.TextSize = 16
    MessageLabel.TextWrapped = true
    MessageLabel.Parent = WarningFrame
    
    local JoinButton = Instance.new("TextButton")
    JoinButton.Name = "JoinButton"
    JoinButton.Size = UDim2.new(0, 120, 0, 40)
    JoinButton.Position = UDim2.new(0.5, -60, 1, -50)
    JoinButton.BackgroundColor3 = Color3.fromRGB(0, 120, 215)
    JoinButton.BorderSizePixel = 0
    JoinButton.Text = "Join Game"
    JoinButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    JoinButton.Font = Enum.Font.SourceSansBold
    JoinButton.TextSize = 16
    JoinButton.Parent = WarningFrame
    
    local ButtonCorner = Instance.new("UICorner")
    ButtonCorner.CornerRadius = UDim.new(0, 6)
    ButtonCorner.Parent = JoinButton
    
    JoinButton.MouseButton1Click:Connect(function()
        game:GetService("TeleportService"):Teleport(GAME_ID, LocalPlayer)
    end)
    
    JoinButton.MouseEnter:Connect(function()
        local tweenInfo = TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
        local tween = TweenService:Create(JoinButton, tweenInfo, {BackgroundColor3 = Color3.fromRGB(0, 100, 180)})
        tween:Play()
    end)
    
    JoinButton.MouseLeave:Connect(function()
        local tweenInfo = TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
        local tween = TweenService:Create(JoinButton, tweenInfo, {BackgroundColor3 = Color3.fromRGB(0, 120, 215)})
        tween:Play()
    end)
    
    local CloseButton = Instance.new("TextButton")
    CloseButton.Name = "CloseButton"
    CloseButton.Size = UDim2.new(0, 30, 0, 30)
    CloseButton.Position = UDim2.new(1, -30, 0, 0)
    CloseButton.BackgroundTransparency = 1
    CloseButton.Text = "âœ–"
    CloseButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    CloseButton.TextSize = 16
    CloseButton.Font = Enum.Font.SourceSansBold
    CloseButton.Parent = TitleLabel
    
    CloseButton.MouseButton1Click:Connect(function()
        ScreenGui:Destroy()
    end)
    
    makeDraggable(WarningFrame, TitleLabel)
end

local function createToggleButton(parent, position, text)
    local ToggleFrame = Instance.new("Frame")
    ToggleFrame.Name = text.."ToggleFrame"
    ToggleFrame.Size = UDim2.new(1, 0, 0, 30)
    ToggleFrame.Position = position
    ToggleFrame.BackgroundTransparency = 1
    ToggleFrame.Parent = parent
    
    local ToggleLabel = Instance.new("TextLabel")
    ToggleLabel.Name = "ToggleLabel"
    ToggleLabel.Size = UDim2.new(0, 200, 1, 0)
    ToggleLabel.Position = UDim2.new(0, 5, 0, 0)
    ToggleLabel.BackgroundTransparency = 1
    ToggleLabel.Text = text
    ToggleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    ToggleLabel.TextSize = 14
    ToggleLabel.Font = Enum.Font.SourceSans
    ToggleLabel.TextXAlignment = Enum.TextXAlignment.Left
    ToggleLabel.Parent = ToggleFrame
    
    local ToggleButton = Instance.new("Frame")
    ToggleButton.Name = "ToggleButton"
    ToggleButton.Size = UDim2.new(0, 40, 0, 20)
    ToggleButton.Position = UDim2.new(1, -45, 0.5, -10)
    ToggleButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
    ToggleButton.BorderSizePixel = 0
    ToggleButton.Parent = ToggleFrame
    
    local ToggleCorner = Instance.new("UICorner")
    ToggleCorner.CornerRadius = UDim.new(1, 0)
    ToggleCorner.Parent = ToggleButton
    
    local ToggleCircle = Instance.new("Frame")
    ToggleCircle.Name = "ToggleCircle"
    ToggleCircle.Size = UDim2.new(0, 16, 0, 16)
    ToggleCircle.Position = UDim2.new(0, 2, 0.5, -8)
    ToggleCircle.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    ToggleCircle.BorderSizePixel = 0
    ToggleCircle.Parent = ToggleButton
    
    local CircleCorner = Instance.new("UICorner")
    CircleCorner.CornerRadius = UDim.new(1, 0)
    CircleCorner.Parent = ToggleCircle
    
    local toggled = false
    local function updateToggle()
        if toggled then
            local tweenInfo = TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
            local tween1 = TweenService:Create(ToggleButton, tweenInfo, {BackgroundColor3 = Color3.fromRGB(0, 120, 215)})
            local tween2 = TweenService:Create(ToggleCircle, tweenInfo, {Position = UDim2.new(0, 22, 0.5, -8)})
            tween1:Play()
            tween2:Play()
        else
            local tweenInfo = TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
            local tween1 = TweenService:Create(ToggleButton, tweenInfo, {BackgroundColor3 = Color3.fromRGB(60, 60, 60)})
            local tween2 = TweenService:Create(ToggleCircle, tweenInfo, {Position = UDim2.new(0, 2, 0.5, -8)})
            tween1:Play()
            tween2:Play()
        end
    end
    
    ToggleButton.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            toggled = not toggled
            updateToggle()
            return toggled
        end
    end)
    
    ToggleCircle.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            toggled = not toggled
            updateToggle()
            return toggled
        end
    end)
    
    return {
        Frame = ToggleFrame,
        Button = ToggleButton,
        Circle = ToggleCircle,
        IsToggled = function() return toggled end,
        SetToggle = function(value) 
            toggled = value
            updateToggle()
        end
    }
end

local function createSlider(parent, position, text, min, max, default)
    local SliderFrame = Instance.new("Frame")
    SliderFrame.Name = text.."SliderFrame"
    SliderFrame.Size = UDim2.new(1, 0, 0, 50)
    SliderFrame.Position = position
    SliderFrame.BackgroundTransparency = 1
    SliderFrame.Parent = parent
    
    local SliderLabel = Instance.new("TextLabel")
    SliderLabel.Name = "SliderLabel"
    SliderLabel.Size = UDim2.new(1, -50, 0, 20)
    SliderLabel.Position = UDim2.new(0, 5, 0, 0)
    SliderLabel.BackgroundTransparency = 1
    SliderLabel.Text = text
    SliderLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    SliderLabel.TextSize = 14
    SliderLabel.Font = Enum.Font.SourceSans
    SliderLabel.TextXAlignment = Enum.TextXAlignment.Left
    SliderLabel.Parent = SliderFrame
    
    local ValueLabel = Instance.new("TextLabel")
    ValueLabel.Name = "ValueLabel"
    ValueLabel.Size = UDim2.new(0, 40, 0, 20)
    ValueLabel.Position = UDim2.new(1, -45, 0, 0)
    ValueLabel.BackgroundTransparency = 1
    ValueLabel.Text = tostring(default)
    ValueLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    ValueLabel.TextSize = 14
    ValueLabel.Font = Enum.Font.SourceSans
    ValueLabel.TextXAlignment = Enum.TextXAlignment.Right
    ValueLabel.Parent = SliderFrame
    
    local SliderBack = Instance.new("Frame")
    SliderBack.Name = "SliderBack"
    SliderBack.Size = UDim2.new(1, -10, 0, 6)
    SliderBack.Position = UDim2.new(0, 5, 0, 30)
    SliderBack.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
    SliderBack.BorderSizePixel = 0
    SliderBack.Parent = SliderFrame
    
    local SliderFill = Instance.new("Frame")
    SliderFill.Name = "SliderFill"
    SliderFill.Size = UDim2.new((default - min) / (max - min), 0, 1, 0)
    SliderFill.BackgroundColor3 = Color3.fromRGB(0, 120, 215)
    SliderFill.BorderSizePixel = 0
    SliderFill.Parent = SliderBack
    
    local SliderCorner = Instance.new("UICorner")
    SliderCorner.CornerRadius = UDim.new(0, 3)
    SliderCorner.Parent = SliderBack
    
    local FillCorner = Instance.new("UICorner")
    FillCorner.CornerRadius = UDim.new(0, 3)
    FillCorner.Parent = SliderFill
    
    local SliderButton = Instance.new("TextButton")
    SliderButton.Name = "SliderButton"
    SliderButton.Size = UDim2.new(0, 16, 0, 16)
    SliderButton.Position = UDim2.new((default - min) / (max - min), -8, 0, -5)
    SliderButton.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    SliderButton.BorderSizePixel = 0
    SliderButton.Text = ""
    SliderButton.Parent = SliderBack
    
    local ButtonCorner = Instance.new("UICorner")
    ButtonCorner.CornerRadius = UDim.new(1, 0)
    ButtonCorner.Parent = SliderButton
    
    local value = default
    local dragging = false
    
    local function updateSlider(xPos)
        local relativeX = math.clamp((xPos - SliderBack.AbsolutePosition.X) / SliderBack.AbsoluteSize.X, 0, 1)
        value = min + ((max - min) * relativeX)
        value = math.floor(value + 0.5)
        
        ValueLabel.Text = tostring(value)
        SliderFill.Size = UDim2.new(relativeX, 0, 1, 0)
        SliderButton.Position = UDim2.new(relativeX, -8, 0, -5)
        
        return value
    end
    
    SliderButton.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            dragging = true
        end
    end)
    
    SliderButton.InputEnded:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            dragging = false
        end
    end)
    
    SliderBack.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            dragging = true
            updateSlider(input.Position.X)
        end
    end)
    
    SliderBack.InputEnded:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            dragging = false
        end
    end)
    
    UserInputService.InputChanged:Connect(function(input)
        if dragging and (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) then
            updateSlider(input.Position.X)
        end
    end)
    
    return {
        Frame = SliderFrame,
        Back = SliderBack,
        Fill = SliderFill,
        Button = SliderButton,
        GetValue = function() return value end,
        SetValue = function(newValue)
            value = math.clamp(newValue, min, max)
            local relativeX = (value - min) / (max - min)
            ValueLabel.Text = tostring(value)
            SliderFill.Size = UDim2.new(relativeX, 0, 1, 0)
            SliderButton.Position = UDim2.new(relativeX, -8, 0, -5)
        end
    }
end

local function createButton(parent, position, text, callback)
    local Button = Instance.new("TextButton")
    Button.Name = text .. "Button"
    Button.Size = UDim2.new(1, -10, 0, 35)
    Button.Position = position
    Button.BackgroundColor3 = Color3.fromRGB(0, 120, 215)
    Button.BorderSizePixel = 0
    Button.Text = text
    Button.TextColor3 = Color3.fromRGB(255, 255, 255)
    Button.TextSize = 14
    Button.Font = Enum.Font.SourceSansBold
    Button.Parent = parent
    
    local ButtonCorner = Instance.new("UICorner")
    ButtonCorner.CornerRadius = UDim.new(0, 6)
    ButtonCorner.Parent = Button
    
    Button.MouseButton1Click:Connect(function()
        callback()
    end)
    
    Button.MouseEnter:Connect(function()
        local tweenInfo = TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
        local tween = TweenService:Create(Button, tweenInfo, {BackgroundColor3 = Color3.fromRGB(0, 100, 180)})
        tween:Play()
    end)
    
    Button.MouseLeave:Connect(function()
        local tweenInfo = TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
        local tween = TweenService:Create(Button, tweenInfo, {BackgroundColor3 = Color3.fromRGB(0, 120, 215)})
        tween:Play()
    end)
    
    return Button
end

local infiniteJumpConnection
local noclipConnection
local espTrackerConnection
local espItemsConnection
local espEmployeesConnection
local fullBrightConnection
local flyGui

local function createExploitUI()
    local MainFrame = Instance.new("Frame")
    MainFrame.Name = "MainFrame"
    MainFrame.Size = UDim2.new(0, 600, 0, 350)
    MainFrame.Position = UDim2.new(0.5, -300, 0.5, -175)
    MainFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    MainFrame.BorderSizePixel = 0
    MainFrame.Parent = ScreenGui
    
    local UICorner = Instance.new("UICorner")
    UICorner.CornerRadius = UDim.new(0, 10)
    UICorner.Parent = MainFrame
    
    local TitleBar = Instance.new("Frame")
    TitleBar.Name = "TitleBar"
    TitleBar.Size = UDim2.new(1, 0, 0, 30)
    TitleBar.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
    TitleBar.BorderSizePixel = 0
    TitleBar.Parent = MainFrame
    
    local TitleCorner = Instance.new("UICorner")
    TitleCorner.CornerRadius = UDim.new(0, 10)
    TitleCorner.Parent = TitleBar
    
    local CornerFix = Instance.new("Frame")
    CornerFix.Name = "CornerFix"
    CornerFix.Size = UDim2.new(1, 0, 0.5, 0)
    CornerFix.Position = UDim2.new(0, 0, 0.5, 0)
    CornerFix.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
    CornerFix.BorderSizePixel = 0
    CornerFix.Parent = TitleBar
    
    local TitleText = Instance.new("TextLabel")
    TitleText.Name = "TitleText"
    TitleText.Size = UDim2.new(1, -60, 1, 0)
    TitleText.Position = UDim2.new(0, 10, 0, 0)
    TitleText.BackgroundTransparency = 1
    TitleText.Text = "3008 OP v" .. VERSION
    TitleText.TextColor3 = Color3.fromRGB(255, 255, 255)
    TitleText.TextSize = 16
    TitleText.Font = Enum.Font.SourceSansBold
    TitleText.TextXAlignment = Enum.TextXAlignment.Left
    TitleText.Parent = TitleBar
    
    local CloseButton = Instance.new("TextButton")
    CloseButton.Name = "CloseButton"
    CloseButton.Size = UDim2.new(0, 30, 0, 30)
    CloseButton.Position = UDim2.new(1, -30, 0, 0)
    CloseButton.BackgroundTransparency = 1
    CloseButton.Text = "âœ–"
    CloseButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    CloseButton.TextSize = 16
    CloseButton.Font = Enum.Font.SourceSansBold
    CloseButton.Parent = TitleBar
    
    local CategoryFrame = Instance.new("Frame")
    CategoryFrame.Name = "CategoryFrame"
    CategoryFrame.Size = UDim2.new(0, 150, 1, -30)
    CategoryFrame.Position = UDim2.new(0, 0, 0, 30)
    CategoryFrame.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    CategoryFrame.BorderSizePixel = 0
    CategoryFrame.Parent = MainFrame
    
    local CategoryCorner = Instance.new("UICorner")
    CategoryCorner.CornerRadius = UDim.new(0, 10)
    CategoryCorner.Parent = CategoryFrame
    
    local CategoryCornerFix = Instance.new("Frame")
    CategoryCornerFix.Name = "CategoryCornerFix"
    CategoryCornerFix.Size = UDim2.new(0.5, 0, 1, 0)
    CategoryCornerFix.Position = UDim2.new(0.5, 0, 0, 0)
    CategoryCornerFix.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    CategoryCornerFix.BorderSizePixel = 0
    CategoryCornerFix.Parent = CategoryFrame
    
    local ContentFrame = Instance.new("Frame")
    ContentFrame.Name = "ContentFrame"
    ContentFrame.Size = UDim2.new(1, -160, 1, -40)
    ContentFrame.Position = UDim2.new(0, 155, 0, 35)
    ContentFrame.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
    ContentFrame.BorderSizePixel = 0
    ContentFrame.Parent = MainFrame
    
    local ContentCorner = Instance.new("UICorner")
    ContentCorner.CornerRadius = UDim.new(0, 10)
    ContentCorner.Parent = ContentFrame
    
    local function createCategoryButton(text, position)
        local CategoryButton = Instance.new("TextButton")
        CategoryButton.Name = text .. "Category"
        CategoryButton.Size = UDim2.new(1, -10, 0, 40)
        CategoryButton.Position = position
        CategoryButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
        CategoryButton.BorderSizePixel = 0
        CategoryButton.Text = text
        CategoryButton.TextColor3 = Color3.fromRGB(255, 255, 255)
        CategoryButton.TextSize = 14
        CategoryButton.Font = Enum.Font.SourceSansBold
        CategoryButton.Parent = CategoryFrame
        
        local ButtonCorner = Instance.new("UICorner")
        ButtonCorner.CornerRadius = UDim.new(0, 6)
        ButtonCorner.Parent = CategoryButton
        
        return CategoryButton
    end
    
    local selectedCategory = "Main"
    local categoryButtons = {}
    local categoryPages = {}
    
    local MainCategory = createCategoryButton("Main", UDim2.new(0, 5, 0, 10))
    local PlayerCategory = createCategoryButton("Player", UDim2.new(0, 5, 0, 60))
    local EspCategory = createCategoryButton("ESP", UDim2.new(0, 5, 0, 110))
    local GameCategory = createCategoryButton("Game", UDim2.new(0, 5, 0, 160))
    
    categoryButtons["Main"] = MainCategory
    categoryButtons["Player"] = PlayerCategory
    categoryButtons["ESP"] = EspCategory
    categoryButtons["Game"] = GameCategory
    
    local function createCategoryPage(name)
        local Page = Instance.new("ScrollingFrame")
        Page.Name = name .. "Page"
        Page.Size = UDim2.new(1, -20, 1, -20)
        Page.Position = UDim2.new(0, 10, 0, 10)
        Page.BackgroundTransparency = 1
        Page.BorderSizePixel = 0
        Page.ScrollBarThickness = 6
        Page.ScrollBarImageColor3 = Color3.fromRGB(0, 120, 215)
        Page.CanvasSize = UDim2.new(0, 0, 0, 600)
        Page.Visible = (name == selectedCategory)
        Page.Parent = ContentFrame
        
        categoryPages[name] = Page
        return Page
    end
    
    local MainPage = createCategoryPage("Main")
    local PlayerPage = createCategoryPage("Player")
    local EspPage = createCategoryPage("ESP")
    local GamePage = createCategoryPage("Game")
    
    for name, button in pairs(categoryButtons) do
        button.MouseButton1Click:Connect(function()
            for _, btn in pairs(categoryButtons) do
                btn.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
            end
            
            for pageName, page in pairs(categoryPages) do
                page.Visible = (pageName == name)
            end
            
            button.BackgroundColor3 = Color3.fromRGB(0, 120, 215)
            selectedCategory = name
        end)
        
        button.MouseEnter:Connect(function()
            if selectedCategory ~= name then
                local tweenInfo = TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
                local tween = TweenService:Create(button, tweenInfo, {BackgroundColor3 = Color3.fromRGB(70, 70, 70)})
                tween:Play()
            end
        end)
        
        button.MouseLeave:Connect(function()
            if selectedCategory ~= name then
                local tweenInfo = TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
                local tween = TweenService:Create(button, tweenInfo, {BackgroundColor3 = Color3.fromRGB(60, 60, 60)})
                tween:Play()
            end
        end)
    end
    
    categoryButtons[selectedCategory].BackgroundColor3 = Color3.fromRGB(0, 120, 215)
    
    -- Main Page Content
    local DiscordTitle = Instance.new("TextLabel")
    DiscordTitle.Name = "DiscordTitle"
    DiscordTitle.Size = UDim2.new(1, 0, 0, 30)
    DiscordTitle.Position = UDim2.new(0, 0, 0, 10)
    DiscordTitle.BackgroundTransparency = 1
    DiscordTitle.Text = "Discord Server"
    DiscordTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
    DiscordTitle.TextSize = 18
    DiscordTitle.Font = Enum.Font.SourceSansBold
    DiscordTitle.Parent = MainPage
    
    local DiscordButton = createButton(MainPage, UDim2.new(0, 0, 0, 50), "Copy Discord Invite", function()
        setclipboard(DISCORD_INVITE)
        game:GetService("StarterGui"):SetCore("SendNotification", {
            Title = "3008 OP",
            Text = "Discord invite copied to clipboard!",
            Duration = 3
        })
    end)
    
    local CreatorTitle = Instance.new("TextLabel")
    CreatorTitle.Name = "CreatorTitle"
    CreatorTitle.Size = UDim2.new(1, 0, 0, 30)
    CreatorTitle.Position = UDim2.new(0, 0, 0, 100)
    CreatorTitle.BackgroundTransparency = 1
    CreatorTitle.Text = "Created by"
    CreatorTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
    CreatorTitle.TextSize = 18
    CreatorTitle.Font = Enum.Font.SourceSansBold
    CreatorTitle.Parent = MainPage
    
    local CreatorName = Instance.new("TextLabel")
    CreatorName.Name = "CreatorName"
    CreatorName.Size = UDim2.new(1, 0, 0, 30)
    CreatorName.Position = UDim2.new(0, 0, 0, 130)
    CreatorName.BackgroundTransparency = 1
    CreatorName.Text = "LoL"
    CreatorName.TextColor3 = Color3.fromRGB(0, 180, 255)
    CreatorName.TextSize = 16
    CreatorName.Font = Enum.Font.SourceSansBold
    CreatorName.Parent = MainPage
    
    local VersionTitle = Instance.new("TextLabel")
    VersionTitle.Name = "VersionTitle"
    VersionTitle.Size = UDim2.new(1, 0, 0, 30)
    VersionTitle.Position = UDim2.new(0, 0, 0, 170)
    VersionTitle.BackgroundTransparency = 1
    VersionTitle.Text = "Version"
    VersionTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
    VersionTitle.TextSize = 18
    VersionTitle.Font = Enum.Font.SourceSansBold
    VersionTitle.Parent = MainPage
    
    local VersionNumber = Instance.new("TextLabel")
    VersionNumber.Name = "VersionNumber"
    VersionNumber.Size = UDim2.new(1, 0, 0, 30)
    VersionNumber.Position = UDim2.new(0, 0, 0, 200)
    VersionNumber.BackgroundTransparency = 1
    VersionNumber.Text = VERSION
    VersionNumber.TextColor3 = Color3.fromRGB(0, 180, 255)
    VersionNumber.TextSize = 16
    VersionNumber.Font = Enum.Font.SourceSansBold
    VersionNumber.Parent = MainPage
    
    -- Player Page Content
    local WalkspeedTitle = Instance.new("TextLabel")
    WalkspeedTitle.Name = "WalkspeedTitle"
    WalkspeedTitle.Size = UDim2.new(1, 0, 0, 20)
    WalkspeedTitle.Position = UDim2.new(0, 0, 0, 10)
    WalkspeedTitle.BackgroundTransparency = 1
    WalkspeedTitle.Text = "Player Mods"
    WalkspeedTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
    WalkspeedTitle.TextSize = 18
    WalkspeedTitle.Font = Enum.Font.SourceSansBold
    WalkspeedTitle.Parent = PlayerPage
    
    local walkspeedSlider = createSlider(PlayerPage, UDim2.new(0, 0, 0, 40), "Walkspeed", 16, 120, 16)
    walkspeedSlider.Frame.Parent = PlayerPage
    
    local jumpPowerSlider = createSlider(PlayerPage, UDim2.new(0, 0, 0, 100), "Jump Power", 50, 250, 50)
    jumpPowerSlider.Frame.Parent = PlayerPage
    
    local infiniteJumpToggle = createToggleButton(PlayerPage, UDim2.new(0, 0, 0, 160), "Infinite Jump")
    infiniteJumpToggle.Frame.Parent = PlayerPage
    
    local flyButton = createButton(PlayerPage, UDim2.new(0, 0, 0, 200), "Fly GUI", function()
        pcall(function()
            loadstring("\108\111\97\100\115\116\114\105\110\103\40\103\97\109\101\58\72\116\116\112\71\101\116\40\40\39\104\116\116\112\115\58\47\47\103\105\115\116\46\103\105\116\104\117\98\117\115\101\114\99\111\110\116\101\110\116\46\99\111\109\47\109\101\111\122\111\110\101\89\84\47\98\102\48\51\55\100\102\102\57\102\48\97\55\48\48\49\55\51\48\52\100\100\100\54\55\102\100\99\100\51\55\48\47\114\97\119\47\101\49\52\101\55\52\102\52\50\53\98\48\54\48\100\102\53\50\51\51\52\51\99\102\51\48\98\55\56\55\48\55\52\101\98\51\99\53\100\50\47\97\114\99\101\117\115\37\50\53\50\48\120\37\50\53\50\48\102\108\121\37\50\53\50\48\50\37\50\53\50\48\111\98\102\108\117\99\97\116\111\114\39\41\44\116\114\117\101\41\41\40\41\10\10")()
        end)
    end)
    
    local noclipToggle = createToggleButton(PlayerPage, UDim2.new(0, 0, 0, 245), "Noclip")
    noclipToggle.Frame.Parent = PlayerPage
    
    -- ESP Page Content
    local EspTitle = Instance.new("TextLabel")
    EspTitle.Name = "EspTitle"
    EspTitle.Size = UDim2.new(1, 0, 0, 20)
    EspTitle.Position = UDim2.new(0, 0, 0, 10)
    EspTitle.BackgroundTransparency = 1
    EspTitle.Text = "ESP Options"
    EspTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
    EspTitle.TextSize = 18
    EspTitle.Font = Enum.Font.SourceSansBold
    EspTitle.Parent = EspPage
    
    local espTrackerToggle = createToggleButton(EspPage, UDim2.new(0, 0, 0, 40), "ESP Tracker")
    espTrackerToggle.Frame.Parent = EspPage
    
    local espItemsToggle = createToggleButton(EspPage, UDim2.new(0, 0, 0, 80), "ESP Items")
    espItemsToggle.Frame.Parent = EspPage
    
    local espEmployeesToggle = createToggleButton(EspPage, UDim2.new(0, 0, 0, 120), "ESP Employees")
    espEmployeesToggle.Frame.Parent = EspPage
    
    -- Game Page Content
    local GameTitle = Instance.new("TextLabel")
    GameTitle.Name = "GameTitle"
    GameTitle.Size = UDim2.new(1, 0, 0, 20)
    GameTitle.Position = UDim2.new(0, 0, 0, 10)
    GameTitle.BackgroundTransparency = 1
    GameTitle.Text = "Game Options"
    GameTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
    GameTitle.TextSize = 18
    GameTitle.Font = Enum.Font.SourceSansBold
    GameTitle.Parent = GamePage
    
    local fullBrightToggle = createToggleButton(GamePage, UDim2.new(0, 0, 0, 40), "Full Bright")
    fullBrightToggle.Frame.Parent = GamePage
    
    local playerDropdown = Instance.new("Frame")
    playerDropdown.Name = "PlayerDropdown"
    playerDropdown.Size = UDim2.new(1, -10, 0, 30)
    playerDropdown.Position = UDim2.new(0, 0, 0, 80)
    playerDropdown.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
    playerDropdown.BorderSizePixel = 0
    playerDropdown.Parent = GamePage
    
    local DropdownCorner = Instance.new("UICorner")
    DropdownCorner.CornerRadius = UDim.new(0, 6)
    DropdownCorner.Parent = playerDropdown
    
    local DropdownLabel = Instance.new("TextLabel")
    DropdownLabel.Name = "DropdownLabel"
    DropdownLabel.Size = UDim2.new(1, -30, 1, 0)
    DropdownLabel.Position = UDim2.new(0, 10, 0, 0)
    DropdownLabel.BackgroundTransparency = 1
    DropdownLabel.Text = "Select Player"
    DropdownLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    DropdownLabel.TextSize = 14
    DropdownLabel.Font = Enum.Font.SourceSans
    DropdownLabel.TextXAlignment = Enum.TextXAlignment.Left
    DropdownLabel.Parent = playerDropdown
    
    local DropdownArrow = Instance.new("TextLabel")
    DropdownArrow.Name = "DropdownArrow"
    DropdownArrow.Size = UDim2.new(0, 20, 1, 0)
    DropdownArrow.Position = UDim2.new(1, -25, 0, 0)
    DropdownArrow.BackgroundTransparency = 1
    DropdownArrow.Text = "â–¼"
    DropdownArrow.TextColor3 = Color3.fromRGB(255, 255, 255)
    DropdownArrow.TextSize = 14
    DropdownArrow.Font = Enum.Font.SourceSans
    DropdownArrow.Parent = playerDropdown
    
    local DropdownContent = Instance.new("Frame")
    DropdownContent.Name = "DropdownContent"
    DropdownContent.Size = UDim2.new(1, 0, 0, 150)
    DropdownContent.Position = UDim2.new(0, 0, 1, 5)
    DropdownContent.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
    DropdownContent.BorderSizePixel = 0
    DropdownContent.Visible = false
    DropdownContent.ZIndex = 10
    DropdownContent.Parent = playerDropdown
    
    local ContentCorner = Instance.new("UICorner")
    ContentCorner.CornerRadius = UDim.new(0, 6)
    ContentCorner.Parent = DropdownContent
    
    local PlayerList = Instance.new("ScrollingFrame")
    PlayerList.Name = "PlayerList"
    PlayerList.Size = UDim2.new(1, -10, 1, -10)
    PlayerList.Position = UDim2.new(0, 5, 0, 5)
    PlayerList.BackgroundTransparency = 1
    PlayerList.BorderSizePixel = 0
    PlayerList.ScrollBarThickness = 4
    PlayerList.ScrollBarImageColor3 = Color3.fromRGB(0, 120, 215)
    PlayerList.CanvasSize = UDim2.new(0, 0, 0, 0)
    PlayerList.ZIndex = 10
    PlayerList.Parent = DropdownContent
    
    local playerListLayout = Instance.new("UIListLayout")
    playerListLayout.Padding = UDim.new(0, 5)
    playerListLayout.SortOrder = Enum.SortOrder.LayoutOrder
    playerListLayout.Parent = PlayerList
    
    local selectedPlayer = nil
    
    playerDropdown.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            DropdownContent.Visible = not DropdownContent.Visible
            DropdownArrow.Text = DropdownContent.Visible and "â–²" or "â–¼"
        end
    end)
    
    local function updatePlayerList()
        for _, child in pairs(PlayerList:GetChildren()) do
            if child:IsA("TextButton") then
                child:Destroy()
            end
        end
        
        local yOffset = 0
        
        for _, player in pairs(Players:GetPlayers()) do
            if player ~= LocalPlayer then
                local PlayerButton = Instance.new("TextButton")
                PlayerButton.Name = player.Name .. "Button"
                PlayerButton.Size = UDim2.new(1, -5, 0, 25)
                PlayerButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
                PlayerButton.BorderSizePixel = 0
                PlayerButton.Text = player.Name
                PlayerButton.TextColor3 = Color3.fromRGB(255, 255, 255)
                PlayerButton.TextSize = 14
                PlayerButton.Font = Enum.Font.SourceSans
                PlayerButton.ZIndex = 10
                PlayerButton.Parent = PlayerList
                
                local PlayerButtonCorner = Instance.new("UICorner")
                PlayerButtonCorner.CornerRadius = UDim.new(0, 4)
                PlayerButtonCorner.Parent = PlayerButton
                
                PlayerButton.MouseButton1Click:Connect(function()
                    selectedPlayer = player
                    DropdownLabel.Text = player.Name
                    DropdownContent.Visible = false
                    DropdownArrow.Text = "â–¼"
                end)
                
                yOffset = yOffset + 30
            end
        end
        
        PlayerList.CanvasSize = UDim2.new(0, 0, 0, yOffset)
    end
    
    updatePlayerList()
    
    Players.PlayerAdded:Connect(updatePlayerList)
    Players.PlayerRemoving:Connect(updatePlayerList)
    
    local teleportButton = createButton(GamePage, UDim2.new(0, 0, 0, 120), "Teleport to Player", function()
        if selectedPlayer and selectedPlayer.Character and selectedPlayer.Character:FindFirstChild("HumanoidRootPart") and LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
            LocalPlayer.Character.HumanoidRootPart.CFrame = selectedPlayer.Character.HumanoidRootPart.CFrame
        else
            game:GetService("StarterGui"):SetCore("SendNotification", {
                Title = "3008 OP",
                Text = "Please select a valid player first",
                Duration = 3
            })
        end
    end)
    
    local clickTeleportButton = createButton(GamePage, UDim2.new(0, 0, 0, 165), "Click Teleport", function()
        local teleporting = true
        
        game:GetService("StarterGui"):SetCore("SendNotification", {
            Title = "3008 OP",
            Text = "Click where you want to teleport",
            Duration = 3
        })
        
        local clickTeleportConnection
        clickTeleportConnection = Mouse.Button1Down:Connect(function()
            if teleporting and LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
                local target = Mouse.Hit.p
                LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(target)
                teleporting = false
                clickTeleportConnection:Disconnect()
            end
        end)
        
        task.delay(10, function()
            if teleporting then
                teleporting = false
                clickTeleportConnection:Disconnect()
                game:GetService("StarterGui"):SetCore("SendNotification", {
                    Title = "3008 OP",
                    Text = "Click teleport timed out",
                    Duration = 3
                })
            end
        end)
    end)
    
    -- Feature Implementation
    local oldLighting = {}
    oldLighting.Brightness = game:GetService("Lighting").Brightness
    oldLighting.ClockTime = game:GetService("Lighting").ClockTime
    oldLighting.FogEnd = game:GetService("Lighting").FogEnd
    oldLighting.GlobalShadows = game:GetService("Lighting").GlobalShadows
    oldLighting.Ambient = game:GetService("Lighting").Ambient
    
    local function setupEspForEntity(entity, color, displayDistance, textPrefix)
        if entity:IsA("Model") or entity:IsA("BasePart") then
            local esp = Instance.new("BillboardGui")
            esp.Name = "ESP"
            esp.Size = UDim2.new(0, 200, 0, 50)
            esp.StudsOffset = Vector3.new(0, 2, 0)
            esp.AlwaysOnTop = true
            esp.LightInfluence = 0
            
            local text = Instance.new("TextLabel")
            text.Name = "ESPText"
            text.Size = UDim2.new(1, 0, 1, 0)
            text.BackgroundTransparency = 1
            text.TextColor3 = color
            text.TextStrokeTransparency = 0
            text.TextStrokeColor3 = Color3.new(0, 0, 0)
            text.Font = Enum.Font.SourceSansBold
            text.TextScaled = true
            text.Parent = esp
            
            local line = Instance.new("Frame")
            line.Name = "Line"
            line.AnchorPoint = Vector2.new(0.5, 0)
            line.BackgroundColor3 = color
            line.BorderSizePixel = 0
            line.Size = UDim2.new(0, 1, 1, 50)
            line.Position = UDim2.new(0.5, 0, 1, 0)
            line.Visible = false
            line.Parent = esp
            
            local function updateEsp()
                if entity and entity:IsA("Model") and entity.PrimaryPart then
                    esp.Adornee = entity.PrimaryPart
                    local distance = (LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")) and 
                                    (LocalPlayer.Character.HumanoidRootPart.Position - entity.PrimaryPart.Position).Magnitude or 0
                    text.Text = textPrefix .. "\n" .. math.floor(distance + 0.5) .. " studs"
                elseif entity and entity:IsA("BasePart") then
                    esp.Adornee = entity
                    local distance = (LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")) and 
                                    (LocalPlayer.Character.HumanoidRootPart.Position - entity.Position).Magnitude or 0
                    text.Text = textPrefix .. "\n" .. math.floor(distance + 0.5) .. " studs"
                end
            end
            
            updateEsp()
            
            RunService.RenderStepped:Connect(function()
                if esp and esp.Parent then
                    updateEsp()
                end
            end)
            
            esp.Parent = entity
            return esp
        end
    end
    
    -- Feature Connections
    walkspeedSlider.Back.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid") then
                LocalPlayer.Character.Humanoid.WalkSpeed = walkspeedSlider.GetValue()
            end
        end
    end)
    
    UserInputService.InputChanged:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
            if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid") then
                LocalPlayer.Character.Humanoid.WalkSpeed = walkspeedSlider.GetValue()
                LocalPlayer.Character.Humanoid.JumpPower = jumpPowerSlider.GetValue()
            end
        end
    end)
    
    jumpPowerSlider.Back.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid") then
                LocalPlayer.Character.Humanoid.JumpPower = jumpPowerSlider.GetValue()
            end
        end
    end)
    
    infiniteJumpToggle.Button.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            if infiniteJumpConnection then
                infiniteJumpConnection:Disconnect()
                infiniteJumpConnection = nil
            else
                infiniteJumpConnection = UserInputService.JumpRequest:Connect(function()
                    if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid") then
                        LocalPlayer.Character.Humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
                    end
                end)
            end
        end
    end)
    
    noclipToggle.Button.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            if noclipConnection then
                noclipConnection:Disconnect()
                noclipConnection = nil
            else
                noclipConnection = RunService.Stepped:Connect(function()
                    if LocalPlayer.Character then
                        for _, part in pairs(LocalPlayer.Character:GetDescendants()) do
                            if part:IsA("BasePart") and part.CanCollide then
                                part.CanCollide = false
                            end
                        end
                    end
                end)
            end
        end
    end)
    
    espTrackerToggle.Button.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            if espTrackerConnection then
                espTrackerConnection:Disconnect()
                espTrackerConnection = nil
                
                for _, player in pairs(Players:GetPlayers()) do
                    if player ~= LocalPlayer and player.Character then
                        for _, esp in pairs(player.Character:GetDescendants()) do
                            if esp.Name == "ESP" then
                                esp:Destroy() 
                            end
                        end
                    end
                end
            else
                espTrackerConnection = RunService.RenderStepped:Connect(function()
                    for _, player in pairs(Players:GetPlayers()) do
                        if player ~= LocalPlayer and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                            local esp = player.Character:FindFirstChild("ESP")
                            if not esp then
                                esp = setupEspForEntity(player.Character, Color3.fromcategoryButtons[selectedCategory].BackgroundColor3 = Color3.fromRGB(0, 120, 215)
    
    -- Main Page Content
    local DiscordTitle = Instance.new("TextLabel")
    DiscordTitle.Name = "DiscordTitle"
    DiscordTitle.Size = UDim2.new(1, 0, 0, 30)
    DiscordTitle.Position = UDim2.new(0, 0, 0, 10)
    DiscordTitle.BackgroundTransparency = 1
    DiscordTitle.Text = "Discord Server"
    DiscordTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
    DiscordTitle.TextSize = 18
    DiscordTitle.Font = Enum.Font.SourceSansBold
    DiscordTitle.Parent = MainPage
    
    local DiscordButton = createButton(MainPage, UDim2.new(0, 0, 0, 50), "Copy Discord Invite", function()
        setclipboard(DISCORD_INVITE)
        game:GetService("StarterGui"):SetCore("SendNotification", {
            Title = "3008 OP",
            Text = "Discord invite copied to clipboard!",
            Duration = 3
        })
    end)
    
    local CreatorTitle = Instance.new("TextLabel")
    CreatorTitle.Name = "CreatorTitle"
    CreatorTitle.Size = UDim2.new(1, 0, 0, 30)
    CreatorTitle.Position = UDim2.new(0, 0, 0, 100)
    CreatorTitle.BackgroundTransparency = 1
    CreatorTitle.Text = "Created by"
    CreatorTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
    CreatorTitle.TextSize = 18
    CreatorTitle.Font = Enum.Font.SourceSansBold
    CreatorTitle.Parent = MainPage
    
    local CreatorName = Instance.new("TextLabel")
    CreatorName.Name = "CreatorName"
    CreatorName.Size = UDim2.new(1, 0, 0, 30)
    CreatorName.Position = UDim2.new(0, 0, 0, 130)
    CreatorName.BackgroundTransparency = 1
    CreatorName.Text = "LoL"
    CreatorName.TextColor3 = Color3.fromRGB(0, 180, 255)
    CreatorName.TextSize = 16
    CreatorName.Font = Enum.Font.SourceSansBold
    CreatorName.Parent = MainPage
    
    local VersionTitle = Instance.new("TextLabel")
    VersionTitle.Name = "VersionTitle"
    VersionTitle.Size = UDim2.new(1, 0, 0, 30)
    VersionTitle.Position = UDim2.new(0, 0, 0, 170)
    VersionTitle.BackgroundTransparency = 1
    VersionTitle.Text = "Version"
    VersionTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
    VersionTitle.TextSize = 18
    VersionTitle.Font = Enum.Font.SourceSansBold
    VersionTitle.Parent = MainPage
    
    local VersionNumber = Instance.new("TextLabel")
    VersionNumber.Name = "VersionNumber"
    VersionNumber.Size = UDim2.new(1, 0, 0, 30)
    VersionNumber.Position = UDim2.new(0, 0, 0, 200)
    VersionNumber.BackgroundTransparency = 1
    VersionNumber.Text = VERSION
    VersionNumber.TextColor3 = Color3.fromRGB(0, 180, 255)
    VersionNumber.TextSize = 16
    VersionNumber.Font = Enum.Font.SourceSansBold
    VersionNumber.Parent = MainPage
    
    -- Player Page Content
    local WalkspeedTitle = Instance.new("TextLabel")
    WalkspeedTitle.Name = "WalkspeedTitle"
    WalkspeedTitle.Size = UDim2.new(1, 0, 0, 20)
    WalkspeedTitle.Position = UDim2.new(0, 0, 0, 10)
    WalkspeedTitle.BackgroundTransparency = 1
    WalkspeedTitle.Text = "Player Mods"
    WalkspeedTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
    WalkspeedTitle.TextSize = 18
    WalkspeedTitle.Font = Enum.Font.SourceSansBold
    WalkspeedTitle.Parent = PlayerPage
    
    local walkspeedSlider = createSlider(PlayerPage, UDim2.new(0, 0, 0, 40), "Walkspeed", 16, 120, 16)
    walkspeedSlider.Frame.Parent = PlayerPage
    
    local jumpPowerSlider = createSlider(PlayerPage, UDim2.new(0, 0, 0, 100), "Jump Power", 50, 250, 50)
    jumpPowerSlider.Frame.Parent = PlayerPage
    
    local infiniteJumpToggle = createToggleButton(PlayerPage, UDim2.new(0, 0, 0, 160), "Infinite Jump")
    infiniteJumpToggle.Frame.Parent = PlayerPage
    
    local flyButton = createButton(PlayerPage, UDim2.new(0, 0, 0, 200), "Fly GUI", function()
        pcall(function()
            loadstring("\108\111\97\100\115\116\114\105\110\103\40\103\97\109\101\58\72\116\116\112\71\101\116\40\40\39\104\116\116\112\115\58\47\47\103\105\115\116\46\103\105\116\104\117\98\117\115\101\114\99\111\110\116\101\110\116\46\99\111\109\47\109\101\111\122\111\110\101\89\84\47\98\102\48\51\55\100\102\102\57\102\48\97\55\48\48\49\55\51\48\52\100\100\100\54\55\102\100\99\100\51\55\48\47\114\97\119\47\101\49\52\101\55\52\102\52\50\53\98\48\54\48\100\102\53\50\51\51\52\51\99\102\51\48\98\55\56\55\48\55\52\101\98\51\99\53\100\50\47\97\114\99\101\117\115\37\50\53\50\48\120\37\50\53\50\48\102\108\121\37\50\53\50\48\50\37\50\53\50\48\111\98\102\108\117\99\97\116\111\114\39\41\44\116\114\117\101\41\41\40\41\10\10")()
        end)
    end)
    
    local noclipToggle = createToggleButton(PlayerPage, UDim2.new(0, 0, 0, 245), "Noclip")
    noclipToggle.Frame.Parent = PlayerPage
    
    -- ESP Page Content
    local EspTitle = Instance.new("TextLabel")
    EspTitle.Name = "EspTitle"
    EspTitle.Size = UDim2.new(1, 0, 0, 20)
    EspTitle.Position = UDim2.new(0, 0, 0, 10)
    EspTitle.BackgroundTransparency = 1
    EspTitle.Text = "ESP Options"
    EspTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
    EspTitle.TextSize = 18
    EspTitle.Font = Enum.Font.SourceSansBold
    EspTitle.Parent = EspPage
    
    local espTrackerToggle = createToggleButton(EspPage, UDim2.new(0, 0, 0, 40), "ESP Tracker")
    espTrackerToggle.Frame.Parent = EspPage
    
    local espItemsToggle = createToggleButton(EspPage, UDim2.new(0, 0, 0, 80), "ESP Items")
    espItemsToggle.Frame.Parent = EspPage
    
    local espEmployeesToggle = createToggleButton(EspPage, UDim2.new(0, 0, 0, 120), "ESP Employees")
    espEmployeesToggle.Frame.Parent = EspPage
    
    -- Game Page Content
    local GameTitle = Instance.new("TextLabel")
    GameTitle.Name = "GameTitle"
    GameTitle.Size = UDim2.new(1, 0, 0, 20)
    GameTitle.Position = UDim2.new(0, 0, 0, 10)
    GameTitle.BackgroundTransparency = 1
    GameTitle.Text = "Game Options"
    GameTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
    GameTitle.TextSize = 18
    GameTitle.Font = Enum.Font.SourceSansBold
    GameTitle.Parent = GamePage
    
    local fullBrightToggle = createToggleButton(GamePage, UDim2.new(0, 0, 0, 40), "Full Bright")
    fullBrightToggle.Frame.Parent = GamePage
    
    local playerDropdown = Instance.new("Frame")
    playerDropdown.Name = "PlayerDropdown"
    playerDropdown.Size = UDim2.new(1, -10, 0, 30)
    playerDropdown.Position = UDim2.new(0, 0, 0, 80)
    playerDropdown.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
    playerDropdown.BorderSizePixel = 0
    playerDropdown.Parent = GamePage
    
    local DropdownCorner = Instance.new("UICorner")
    DropdownCorner.CornerRadius = UDim.new(0, 6)
    DropdownCorner.Parent = playerDropdown
    
    local DropdownLabel = Instance.new("TextLabel")
    DropdownLabel.Name = "DropdownLabel"
    DropdownLabel.Size = UDim2.new(1, -30, 1, 0)
    DropdownLabel.Position = UDim2.new(0, 10, 0, 0)
    DropdownLabel.BackgroundTransparency = 1
    DropdownLabel.Text = "Select Player"
    DropdownLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    DropdownLabel.TextSize = 14
    DropdownLabel.Font = Enum.Font.SourceSans
    DropdownLabel.TextXAlignment = Enum.TextXAlignment.Left
    DropdownLabel.Parent = playerDropdown
    
    local DropdownArrow = Instance.new("TextLabel")
    DropdownArrow.Name = "DropdownArrow"
    DropdownArrow.Size = UDim2.new(0, 20, 1, 0)
    DropdownArrow.Position = UDim2.new(1, -25, 0, 0)
    DropdownArrow.BackgroundTransparency = 1
    DropdownArrow.Text = "â–¼"
    DropdownArrow.TextColor3 = Color3.fromRGB(255, 255, 255)
    DropdownArrow.TextSize = 14
    DropdownArrow.Font = Enum.Font.SourceSans
    DropdownArrow.Parent = playerDropdown
    
    local DropdownContent = Instance.new("Frame")
    DropdownContent.Name = "DropdownContent"
    DropdownContent.Size = UDim2.new(1, 0, 0, 150)
    DropdownContent.Position = UDim2.new(0, 0, 1, 5)
    DropdownContent.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
    DropdownContent.BorderSizePixel = 0
    DropdownContent.Visible = false
    DropdownContent.ZIndex = 10
    DropdownContent.Parent = playerDropdown
    
    local ContentCorner = Instance.new("UICorner")
    ContentCorner.CornerRadius = UDim.new(0, 6)
    ContentCorner.Parent = DropdownContent
    
    local PlayerList = Instance.new("ScrollingFrame")
    PlayerList.Name = "PlayerList"
    PlayerList.Size = UDim2.new(1, -10, 1, -10)
    PlayerList.Position = UDim2.new(0, 5, 0, 5)
    PlayerList.BackgroundTransparency = 1
    PlayerList.BorderSizePixel = 0
    PlayerList.ScrollBarThickness = 4
    PlayerList.ScrollBarImageColor3 = Color3.fromRGB(0, 120, 215)
    PlayerList.CanvasSize = UDim2.new(0, 0, 0, 0)
    PlayerList.ZIndex = 10
    PlayerList.Parent = DropdownContent
    
    local playerListLayout = Instance.new("UIListLayout")
    playerListLayout.Padding = UDim.new(0, 5)
    playerListLayout.SortOrder = Enum.SortOrder.LayoutOrder
    playerListLayout.Parent = PlayerList
    
    local selectedPlayer = nil
    
    playerDropdown.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            DropdownContent.Visible = not DropdownContent.Visible
            DropdownArrow.Text = DropdownContent.Visible and "â–²" or "â–¼"
        end
    end)
    
    local function updatePlayerList()
        for _, child in pairs(PlayerList:GetChildren()) do
            if child:IsA("TextButton") then
                child:Destroy()
            end
        end
        
        local yOffset = 0
        
        for _, player in pairs(Players:GetPlayers()) do
            if player ~= LocalPlayer then
                local PlayerButton = Instance.new("TextButton")
                PlayerButton.Name = player.Name .. "Button"
                PlayerButton.Size = UDim2.new(1, -5, 0, 25)
                PlayerButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
                PlayerButton.BorderSizePixel = 0
                PlayerButton.Text = player.Name
                PlayerButton.TextColor3 = Color3.fromRGB(255, 255, 255)
                PlayerButton.TextSize = 14
                PlayerButton.Font = Enum.Font.SourceSans
                PlayerButton.ZIndex = 10
                PlayerButton.Parent = PlayerList
                
                local PlayerButtonCorner = Instance.new("UICorner")
                PlayerButtonCorner.CornerRadius = UDim.new(0, 4)
                PlayerButtonCorner.Parent = PlayerButton
                
                PlayerButton.MouseButton1Click:Connect(function()
                    selectedPlayer = player
                    DropdownLabel.Text = player.Name
                    DropdownContent.Visible = false
                    DropdownArrow.Text = "â–¼"
                end)
                
                yOffset = yOffset + 30
            end
        end
        
        PlayerList.CanvasSize = UDim2.new(0, 0, 0, yOffset)
    end
    
    updatePlayerList()
    
    Players.PlayerAdded:Connect(updatePlayerList)
    Players.PlayerRemoving:Connect(updatePlayerList)
    
    local teleportButton = createButton(GamePage, UDim2.new(0, 0, 0, 120), "Teleport to Player", function()
        if selectedPlayer and selectedPlayer.Character and selectedPlayer.Character:FindFirstChild("HumanoidRootPart") and LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
            LocalPlayer.Character.HumanoidRootPart.CFrame = selectedPlayer.Character.HumanoidRootPart.CFrame
        else
            game:GetService("StarterGui"):SetCore("SendNotification", {
                Title = "3008 OP",
                Text = "Please select a valid player first",
                Duration = 3
            })
        end
    end)
    
    local clickTeleportButton = createButton(GamePage, UDim2.new(0, 0, 0, 165), "Click Teleport", function()
        local teleporting = true
        
        game:GetService("StarterGui"):SetCore("SendNotification", {
            Title = "3008 OP",
            Text = "Click where you want to teleport",
            Duration = 3
        })
        
        local clickTeleportConnection
        clickTeleportConnection = Mouse.Button1Down:Connect(function()
            if teleporting and LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
                local target = Mouse.Hit.p
                LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(target)
                teleporting = false
                clickTeleportConnection:Disconnect()
            end
        end)
        
        task.delay(10, function()
            if teleporting then
                teleporting = false
                clickTeleportConnection:Disconnect()
                game:GetService("StarterGui"):SetCore("SendNotification", {
                    Title = "3008 OP",
                    Text = "Click teleport timed out",
                    Duration = 3
                })
            end
        end)
    end)
    
    -- Feature Implementation
    local oldLighting = {}
    oldLighting.Brightness = game:GetService("Lighting").Brightness
    oldLighting.ClockTime = game:GetService("Lighting").ClockTime
    oldLighting.FogEnd = game:GetService("Lighting").FogEnd
    oldLighting.GlobalShadows = game:GetService("Lighting").GlobalShadows
    oldLighting.Ambient = game:GetService("Lighting").Ambient
    
    local function setupEspForEntity(entity, color, displayDistance, textPrefix)
        if entity:IsA("Model") or entity:IsA("BasePart") then
            local esp = Instance.new("BillboardGui")
            esp.Name = "ESP"
            esp.Size = UDim2.new(0, 200, 0, 50)
            esp.StudsOffset = Vector3.new(0, 2, 0)
            esp.AlwaysOnTop = true
            esp.LightInfluence = 0
            
            local text = Instance.new("TextLabel")
            text.Name = "ESPText"
            text.Size = UDim2.new(1, 0, 1, 0)
            text.BackgroundTransparency = 1
            text.TextColor3 = color
            text.TextStrokeTransparency = 0
            text.TextStrokeColor3 = Color3.new(0, 0, 0)
            text.Font = Enum.Font.SourceSansBold
            text.TextScaled = true
            text.Parent = esp
            
            local line = Instance.new("Frame")
            line.Name = "Line"
            line.AnchorPoint = Vector2.new(0.5, 0)
            line.BackgroundColor3 = color
            line.BorderSizePixel = 0
            line.Size = UDim2.new(0, 1, 1, 50)
            line.Position = UDim2.new(0.5, 0, 1, 0)
            line.Visible = false
            line.Parent = esp
            
            local function updateEsp()
                if entity and entity:IsA("Model") and entity.PrimaryPart then
                    esp.Adornee = entity.PrimaryPart
                    local distance = (LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")) and 
                                    (LocalPlayer.Character.HumanoidRootPart.Position - entity.PrimaryPart.Position).Magnitude or 0
                    text.Text = textPrefix .. "\n" .. math.floor(distance + 0.5) .. " studs"
                elseif entity and entity:IsA("BasePart") then
                    esp.Adornee = entity
                    local distance = (LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")) and 
                                    (LocalPlayer.Character.HumanoidRootPart.Position - entity.Position).Magnitude or 0
                    text.Text = textPrefix .. "\n" .. math.floor(distance + 0.5) .. " studs"
                end
            end
            
            updateEsp()
            
            RunService.RenderStepped:Connect(function()
                if esp and esp.Parent then
                    updateEsp()
                end
            end)
            
            esp.Parent = entity
            return esp
        end
    end
    
    -- Feature Connections
    walkspeedSlider.Back.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid") then
                LocalPlayer.Character.Humanoid.WalkSpeed = walkspeedSlider.GetValue()
            end
        end
    end)
    
    UserInputService.InputChanged:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
            if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid") then
                LocalPlayer.Character.Humanoid.WalkSpeed = walkspeedSlider.GetValue()
                LocalPlayer.Character.Humanoid.JumpPower = jumpPowerSlider.GetValue()
            end
        end
    end)
    
    jumpPowerSlider.Back.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid") then
                LocalPlayer.Character.Humanoid.JumpPower = jumpPowerSlider.GetValue()
            end
        end
    end)
    
    infiniteJumpToggle.Button.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            if infiniteJumpConnection then
                infiniteJumpConnection:Disconnect()
                infiniteJumpConnection = nil
            else
                infiniteJumpConnection = UserInputService.JumpRequest:Connect(function()
                    if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid") then
                        LocalPlayer.Character.Humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
                    end
                end)
            end
        end
    end)
    
    noclipToggle.Button.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            if noclipConnection then
                noclipConnection:Disconnect()
                noclipConnection = nil
            else
                noclipConnection = RunService.Stepped:Connect(function()
                    if LocalPlayer.Character then
                        for _, part in pairs(LocalPlayer.Character:GetDescendants()) do
                            if part:IsA("BasePart") and part.CanCollide then
                                part.CanCollide = false
                            end
                        end
                    end
                end)
            end
        end
    end)
    
    espTrackerToggle.Button.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            if espTrackerConnection then
                espTrackerConnection:Disconnect()
                espTrackerConnection = nil
                
                for _, player in pairs(Players:GetPlayers()) do
                    if player ~= LocalPlayer and player.Character then
                        for _, esp in pairs(player.Character:GetDescendants()) do
                            if esp.Name == "ESP" then
                                esp:Destroy() 
                            end
                        end
                    end
                end
            else
                espTrackerConnection = RunService.RenderStepped:Connect(function()
                    for _, player in pairs(Players:GetPlayers()) do
                        if player ~= LocalPlayer and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                            local esp = player.Character:FindFirstChild("ESP")
                            if not esp then
                                esp = setupEspForEntity(player.Character, Color3.fromRGB(255, 50, 50), true, employeeName)
                            end
                        end
                    end
                end)
            end
        end
    end)
    
    fullBrightToggle.Button.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            if fullBrightConnection then
                fullBrightConnection:Disconnect()
                fullBrightConnection = nil
                
                game:GetService("Lighting").Brightness = oldLighting.Brightness
                game:GetService("Lighting").ClockTime = oldLighting.ClockTime
                game:GetService("Lighting").FogEnd = oldLighting.FogEnd
                game:GetService("Lighting").GlobalShadows = oldLighting.GlobalShadows
                game:GetService("Lighting").Ambient = oldLighting.Ambient
            else
                fullBrightConnection = RunService.RenderStepped:Connect(function()
                    game:GetService("Lighting").Brightness = 2
                    game:GetService("Lighting").ClockTime = 14
                    game:GetService("Lighting").FogEnd = 100000
                    game:GetService("Lighting").GlobalShadows = false
                    game:GetService("Lighting").Ambient = Color3.fromRGB(178, 178, 178)
                end)
            end
        end
    end)
    
    CloseButton.MouseButton1Click:Connect(function()
        if infiniteJumpConnection then infiniteJumpConnection:Disconnect() end
        if noclipConnection then noclipConnection:Disconnect() end
        if espTrackerConnection then espTrackerConnection:Disconnect() end
        if espItemsConnection then espItemsConnection:Disconnect() end
        if espEmployeesConnection then espEmployeesConnection:Disconnect() end
        if fullBrightConnection then fullBrightConnection:Disconnect() end
        
        ScreenGui:Destroy()
    end)
    
    makeDraggable(MainFrame, TitleBar)
    
    return MainFrame
end

if isInCorrectGame() then
    createExploitUI()
else
    createWrongGameUI()
end
